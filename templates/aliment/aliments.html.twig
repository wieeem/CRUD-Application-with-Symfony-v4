{# on extend le fichier de base pour pouvoir utlisé ses block qui sont monTitre..#}
{% extends 'base.html.twig' %}

{% block title %} Aliments !{% endblock %}

{% block carrousel %}
{% if indice == true %}
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="images/Caroussel/photo1.png" class="d-block w-100" alt="..." style="
      width: 56%!important;
    height: 400px;
    margin-left: 306px;
    margin-top: 36px;
    margin-bottom : 30px;
      ">
    </div>
    <div class="carousel-item">
      <img src="images/Caroussel/photo2.jpg" class="d-block w-100" alt="..." style="
      width: 56%!important;
    height: 376px;
    margin-left: 306px;
    margin-top: 36px;
    margin-bottom : 30px;
      ">
    </div>

      <div class="carousel-item">
      <img src="images/Caroussel/photo3.jpg" class="d-block w-100" alt="..." style="
      width: 56%!important;
    height: 376px;
    margin-left: 306px;
    margin-top: 36px;
    margin-bottom : 30px;
      ">
    </div>
 
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
{% endif %}
{% endblock %}

 {% block monTitre %} 
 Liste des Aliments
 {% if isCalorie == true %}
 avec moins de 50 calories au 100g 
 {% elseif isGlucide %}
 avec moins de 5 glucide au 100g 
 {% endif %}
 {% endblock %} 
{% block body %}

{# Chaque bouton de ses trois, va afficher une page differente selon le path deja indiqué dans le href #}
<div style="margin-left: 21%;
    margin-bottom: 25px;
    margin-top: 25px;">
<a href="{{path('aliments')}}" class="btn btn-primary"
style="background-color: #f18b2e00!important;
    color: #f18b2e;
    border-color: #f18b2e;"

> Tous les aliments</a>
{# la fonction path contient le nom du route avec les valeurs des parametres qui vont etre passé a travers la route #}
<a href="{{path('alimentsParCalorie',{'calorie':50})}}" class="btn btn-primary"
style="background-color: #f18b2e00!important;
    color: #f18b2e;
    border-color: #f18b2e;"
>Aliment avec moins de 50 calories au 100g</a>
<a href="{{path('alimentsParGlucides',{'glucide':5})}}" class="btn btn-primary"
style="background-color: #f18b2e00!important;
    color: #f18b2e;
    border-color: #f18b2e;"
>Aliment avec moins de 5 glucide au 100g</a>
</div>
  <div class="row">
{# Pour pouvoir lister tout les aliments on utiliser la boucle for sur l'element aliments envoyé par le 
controller AlimentController #}
{% for aliment in aliments %}

 <div class="col-12 col-md-6 col-lg-4 col-xl-3">
      <div class="card border-primary mx-auto mb-3" style="max-width:20rem">
           <div class="card-header  text-center">
           {#pour pouvoir recuperer l'image qui est déja enregistrer dans l'entité type dans la base de 
                       données , on pourra utiliser la fonction asset pour définir l'emplement physique de l'image 
                       dans les dossier images/aliments
           #}
              <img class="perso_imgAliment card-img-top" src="{{asset('images/aliments/' ~ aliment.image)}}">
            </div>
            
           <div class="card-body">
           <h3 class="card-title text-center pb-2 mx-3 border-bottom border-primary ">{{aliment.nom}}</h3>
           
           <p class="card-text"> 
           <h4 class="text-center">Prix(kilo) : {{aliment.prix}}</h4>
            <h4 class="text-center">Type : {{aliment.type.libelle}}</h4>
           <table class="table text-center">
              <tr class="table-primary">
                 <td>Proprieté</td>
                 <td>valeur (100g)</td>
              </tr> 
                <tr>
                 <td>Calorie</td>
                 <td> {{aliment.calorie}} </td>
              </tr> 

               <tr>
                 <td>Proteine</td>
                 <td> {{aliment.proteine}} </td>
              </tr>   

               <tr>
                 <td>Glucides</td>
                 <td> {{aliment.glucide}} </td>
              </tr>   

               <tr>
                 <td>Lipide</td>
                 <td> {{aliment.lipide}} </td>
              </tr>   

           </table>
           </p>
           </div>

      </div>
</div>
{% endfor %}
  </div>    

{% endblock %}
{% block footer %}
<!-- Footer -->
<footer class="page-footer font-small mdb-color darken-3 pt-4">

  <!-- Footer Elements -->
  <div class="container">

    <!--Grid row-->
    <div class="row d-flex justify-content-center">

      <!--Grid column-->
      <div class="col-md-6">

        <!-- Video -->
        <div class="embed-responsive embed-responsive-16by9 mb-4">
          <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/I1_RSyzPHPg"
            allowfullscreen></iframe>
        </div>

      </div>
      <!--Grid column-->

    </div>
    <!--Grid row-->

  </div>
  <!-- Footer Elements -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2020 Copyright:
    <a href="https://mdbootstrap.com/"> WiemLimem</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->
{% endblock %}
